(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(21),c=a.n(r),i=a(2),o=(a(27),a(19)),p=a(4),d=a(5),l=a(7),u=a(6),h=a(8),j=(a(28),a(14)),m=(a(29),a(30),a(0)),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={isPlay:!0},s}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"switch-container",children:[Object(m.jsx)("span",{className:"train"+(this.props.isPlay?" non-active":""),children:"Train"}),Object(m.jsxs)("label",{className:"switch",children:[Object(m.jsx)("input",{type:"checkbox",onChange:function(){return e.props.changeMode(e.state.isPlay)},className:"switch-input",checked:this.props.isPlay}),Object(m.jsx)("span",{className:"slider round"})]}),Object(m.jsx)("span",{className:"play"+(this.props.isPlay?"":" non-active"),children:"Play"})]})}}]),a}(n.a.Component),y=(a(32),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={isPlay:!0,startPressed:!0,repeatPressed:!0},s}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"play-btn-container",children:[Object(m.jsx)("button",{className:"start-btn"+(this.props.isPlay&&!this.props.startPressed?"":" hidden"),onClick:function(){return e.props.startPlay(e.state.startPressed)},children:"Start game"}),Object(m.jsx)("button",{className:"repeat-btn"+(this.props.startPressed&&this.props.isPlay?"":" hidden"),onClick:function(){return e.props.repeat(e.state.repeatPressed)},children:"Repeat"})]})}}]),a}(n.a.Component)),O=(a(33),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).toAdminPanel=function(){window.location.assign("./admin")},s.state={popUpActive:!1},s}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"popUp-container"+(this.props.popUpActive?"":" hidden"),children:[Object(m.jsxs)("div",{className:"input-container",children:[Object(m.jsx)("input",{type:"text",className:"popUp-login",placeholder:"Login: admin"}),Object(m.jsx)("input",{type:"text",className:"popUp-pass",placeholder:"Password: admin"})]}),Object(m.jsxs)("div",{className:"button-container",children:[Object(m.jsx)("button",{className:"popUp-btn cancel-btn",onClick:function(){return e.props.cancelPopUp(e.state.popUpActive)},children:"Cancel"}),Object(m.jsx)("button",{className:"popUp-btn logIn-btn",onClick:function(){return e.toAdminPanel()},children:"Log In"})]})]}),Object(m.jsx)("div",{className:"cover"+(this.props.popUpActive?"":" hidden")})]})}}]),a}(n.a.Component)),v=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).updateChecked=function(){!1===s.state.isChecked?s.setState({isChecked:!0}):s.setState({isChecked:!1})},s.state={isChecked:!1,popUpActive:!1},s.updateViewState=s.updateViewState.bind(Object(j.a)(s)),s}return Object(d.a)(a,[{key:"updateViewState",value:function(e){e.target.classList.contains("menu-input")&&!1===this.state.isChecked?this.setState({isChecked:!0}):this.setState({isChecked:!1})}},{key:"componentDidMount",value:function(){window.addEventListener("mousedown",this.updateViewState)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousedown",this.updateViewState)}},{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("header",{className:"header-container",children:[Object(m.jsxs)("div",{className:"menuToggle",children:[Object(m.jsx)("input",{type:"checkbox",className:"menu-input",onChange:function(){return e.updateChecked},checked:this.state.isChecked}),Object(m.jsx)("span",{}),Object(m.jsx)("span",{}),Object(m.jsx)("span",{}),Object(m.jsxs)("ul",{className:"menu"+(this.props.isPlay?" play-mode":""),children:[Object(m.jsx)(h.a,{to:"/",className:"menu-item",children:"Main Page"}),Object(m.jsx)(h.a,{to:"/cards/0",className:"menu-item",children:"Action (set A)"}),Object(m.jsx)(h.a,{to:"/cards/1",className:"menu-item",children:"Action (set B)"}),Object(m.jsx)(h.a,{to:"/cards/2",className:"menu-item",children:"Animal (set A)"}),Object(m.jsx)(h.a,{to:"/cards/3",className:"menu-item",children:"Animal (set B)"}),Object(m.jsx)(h.a,{to:"/cards/4",className:"menu-item",children:"Clothets"}),Object(m.jsx)(h.a,{to:"/cards/5",className:"menu-item",children:"Emotion"}),Object(m.jsx)(h.a,{to:"/cards/6",className:"menu-item",children:"Electronics"}),Object(m.jsx)(h.a,{to:"/cards/7",className:"menu-item",children:"Garage"}),Object(m.jsx)("button",{className:"menu-item admin-item",type:"submit",onClick:function(){return e.props.toPopUp(e.state.popUpActive)},children:"Log in"})]})]}),Object(m.jsx)(b,{isPlay:this.props.isPlay,changeMode:this.props.changeMode}),Object(m.jsx)(O,{popUpActive:this.props.popUpActive,cancelPopUp:this.props.cancelPopUp})]}),Object(m.jsx)(y,{isPlay:this.props.isPlay,startPlay:this.props.startPlay,startPressed:this.props.startPressed,repeat:this.props.repeat,repeatPressed:this.props.repeatPressed})]})}}]),a}(n.a.Component),P=(a(39),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("footer",{className:"footer-container",children:[Object(m.jsx)("a",{href:"https://github.com/barmenski/",className:"git-link",children:" "}),Object(m.jsx)("span",{className:"year-span",children:"2021"}),Object(m.jsx)("a",{href:"https://rs.school/js/",className:"course-link",children:" "})]})}}]),a}(s.Component)),f="https://barmenski-english-for-kids.herokuapp.com",x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={error:null,category:[]},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(f,"/api/category")).then((function(e){return e.json()})).then((function(t){e.setState({category:t})}),(function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{isChecked:!0,changeMode:this.props.changeMode,isPlay:this.props.isPlay,startPlay:this.props.startPlay,startPressed:this.props.startPressed,repeat:this.props.repeat,repeatPressed:this.props.repeatPressed,toPopUp:this.props.toPopUp,popUpActive:this.props.popUpActive,cancelPopUp:this.props.cancelPopUp}),Object(m.jsx)("div",{className:"category-container container",children:this.state.category.map((function(t){return Object(m.jsxs)(h.a,{to:"/cards/".concat(t.url),className:"category-card"+(e.props.isPlay?" play-mode":""),children:[Object(m.jsx)("img",{src:"./"+t.image,alt:t.text}),t.text]},t.image)}))}),Object(m.jsx)(P,{})]})}}]),a}(s.Component),g=(a(40),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).audioSrcArray=[],s.audioSrcArrayMake=function(){for(var e=s.state.cards.length,t=0;t<e;t++)s.audioSrcArray.push(s.state.cards[t].audioSrc);s.audioSrcArray.sort((function(){return Math.random()-.5})),console.log("this.audioSrcArray complite = ",s.audioSrcArray)},s.randomRead=function(){s.props.startPressed&&(new Audio("../"+s.audioSrcArray[0]).play(),console.log("this.audioSrcArray randomRead = ",s.audioSrcArray))},s.repeat=function(){s.props.repeatPressed&&new Audio("../"+s.state.audioSrcArray[0]).play()},s.mouseLeave=function(e){var t=document.querySelector('[data-translation="'.concat(e.translation,'"]')),a=document.querySelector('[data-word="'.concat(e.word,'"]'));if(t&&a){if(t.classList.contains("hidden"))return;t.classList.add("hidden"),a.classList.remove("hidden")}},s.onClickHandlerTrain=function(e){new Audio("../"+e.audioSrc).play();var t=document.querySelector('[data-spk-img="'.concat(e.word,'"]'));if(t){t.classList.remove("hidden"),setTimeout((function(){t.classList.add("hidden")}),1e3);var a=document.querySelector('[data-translation="'.concat(e.translation,'"]'));a&&a.classList.remove("hidden");var s=document.querySelector('[data-word="'.concat(e.word,'"]'));if(s){if(s.classList.contains("hidden"))return;s.classList.add("hidden")}}},s.onClickHandlerPlay=function(e){var t=document.querySelector(".play-btn-container"),a=document.querySelector('[data-url="../'.concat(e.audioSrc,'"]'));if(s.state.audioSrcArray[0]===e.audioSrc){if(!(null===a||void 0===a?void 0:a.classList.contains("non-active"))){new Audio("../audio/correct.mp3").play(),a&&a.classList.add("non-active");var n=document.createElement("div");if(n.className="star-win",t&&t.prepend(n),s.state.audioSrcArray.splice(0,1),0===s.state.audioSrcArray.length)if(0===s.state.errorAmount){new Audio("../audio/success.mp3").play();var r=document.querySelector(".cards-container");r&&r.classList.add("hidden");var c=document.querySelector(".success__img");c&&c.classList.remove("hidden")}else{new Audio("../audio/failure.mp3").play();var i=document.querySelector(".cards-container");i&&i.classList.add("hidden");var o=document.querySelector(".failure__img");o&&o.classList.remove("hidden")}setTimeout(s.randomRead,500)}}else if(!(null===a||void 0===a?void 0:a.classList.contains("non-active"))){var p=document.createElement("div");p.className="star-lose",t&&t.prepend(p),new Audio("../audio/error.mp3").play(),s.setState({errorAmount:s.state.errorAmount+1})}},s.state={isPlay:!0,startPressed:!1,repeatPressed:!1,errorAmount:0,error:null,cards:[],cardsArray:[],audioSrcArray:[]},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(f,"/api/cards")).then((function(e){return e.json()})).then((function(t){var a=e.props.match.params.cat_url,s=t.filter((function(e){return e.url===a}));e.setState({cards:s})}),(function(t){e.setState({error:t})}))}},{key:"componentDidUpdate",value:function(){this.audioSrcArrayMake()}},{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{isChecked:!0,changeMode:this.props.changeMode,isPlay:this.props.isPlay,startPlay:this.props.startPlay,startPressed:this.props.startPressed,repeat:this.props.repeat,repeatPressed:this.props.repeatPressed,toPopUp:this.props.toPopUp,popUpActive:this.props.popUpActive,cancelPopUp:this.props.cancelPopUp}),Object(m.jsx)("div",{className:"cards-container container",children:this.state.cards.map((function(t){return Object(m.jsxs)("div",{className:"card",onClick:e.props.isPlay?function(){return e.onClickHandlerPlay(t)}:function(){return e.onClickHandlerTrain(t)},onMouseLeave:function(){return e.mouseLeave(t)},children:[Object(m.jsx)("img",{src:"../"+t.image,className:"card__img",alt:t.word,"data-url":"../"+t.audioSrc}),Object(m.jsx)("span",{className:"card-word"+(e.props.isPlay?" hidden":""),"data-word":t.word,children:t.word}),Object(m.jsx)("span",{className:"card-translation hidden","data-translation":t.translation,children:t.translation}),Object(m.jsx)("span",{className:"card-empty"+(e.props.isPlay?" play-mode":" hidden"),children:" "}),Object(m.jsx)("img",{src:"../img/speaker-icon.svg",alt:"speaker",className:"speaker-icon hidden","data-spk-img":t.word})]},t.word)}))}),Object(m.jsxs)("div",{className:"result-container",children:[Object(m.jsx)("img",{src:"../img/success.jpg",className:"success__img hidden",alt:"Success"}),Object(m.jsx)("img",{src:"../img/failure.jpg",className:"failure__img hidden",alt:"Failure"})]}),Object(m.jsx)(P,{})]})}}]),a}(n.a.Component)),A=(a(41),a(42),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={},s}return Object(d.a)(a,[{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"container",children:"Admin Panel"})})}}]),a}(n.a.Component)),k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isPlay:!1,changeMode:!1,startPlay:!1,startPressed:!1,repeatPressed:!1,popUpActive:!1,toPopUp:!1,cancelPopUp:!1},e.changeMode=function(){e.setState({startPressed:!1}),!1===e.state.isPlay?e.setState({isPlay:!0}):e.setState({isPlay:!1})},e.startPlay=function(){e.setState({startPressed:!0})},e.repeat=function(){e.setState({repeatPressed:!0})},e.toPopUp=function(){e.setState({popUpActive:!0})},e.cancelPopUp=function(){e.setState({popUpActive:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{path:"/category",component:function(){return Object(m.jsx)(x,{isPlay:e.state.isPlay,changeMode:e.changeMode,startPlay:e.startPlay,startPressed:e.state.startPressed,repeat:e.repeat,repeatPressed:e.state.repeatPressed,toPopUp:e.toPopUp,popUpActive:e.state.popUpActive,cancelPopUp:e.cancelPopUp})}}),Object(m.jsx)(i.a,{exact:!0,from:"/",to:"/category"}),Object(m.jsx)(i.b,{path:"/cards/:cat_url",component:function(t){return Object(m.jsx)(g,Object(o.a)(Object(o.a)({},t),{},{isPlay:e.state.isPlay,changeMode:e.changeMode,startPlay:e.startPlay,startPressed:e.state.startPressed,repeat:e.repeat,repeatPressed:e.state.repeatPressed,toPopUp:e.toPopUp,popUpActive:e.state.popUpActive,cancelPopUp:e.cancelPopUp}))}}),Object(m.jsx)(i.b,{path:"/admin",component:function(){return Object(m.jsx)(A,{})}})]})})}}]),a}(n.a.Component),S=Object(i.g)(k),N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))},U=a(9),w=Object(U.a)();c.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(i.c,{history:w,children:Object(m.jsx)(S,{})})}),document.getElementById("root")),N()}},[[43,1,2]]]);
//# sourceMappingURL=main.0ae0a7ec.chunk.js.map