(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var s,r=a(1),n=a.n(r),c=a(23),i=a.n(c),o=a(2),d=(a(29),a(21)),l=a(4),u=a(5),p=a(7),h=a(6),m=a(8),j=(a(30),a(13)),b=a.n(j),y=a(16);function O(){return(O=Object(y.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/category");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){O.apply(this,arguments)}();var f,v=s,x=a(15),g=(a(32),a(33),a(0)),P=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={isPlay:!0},s}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"switch-container",children:[Object(g.jsx)("span",{className:"train"+(this.props.isPlay?" non-active":""),children:"Train"}),Object(g.jsxs)("label",{className:"switch",children:[Object(g.jsx)("input",{type:"checkbox",onChange:function(){return e.props.changeMode(e.state.isPlay)},className:"switch-input",checked:this.props.isPlay}),Object(g.jsx)("span",{className:"slider round"})]}),Object(g.jsx)("span",{className:"play"+(this.props.isPlay?"":" non-active"),children:"Play"})]})}}]),a}(n.a.Component),k=(a(35),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={isPlay:!0,startPressed:!0,repeatBtn:!0},s}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"play-btn-container",children:[Object(g.jsx)("button",{className:"start-btn"+(this.props.isPlay&&!this.props.startPressed?"":" hidden"),onClick:function(){return e.props.startPlay(e.state.startPressed)},children:"Start game"}),Object(g.jsx)("button",{className:"repeat-btn"+(this.props.startPressed&&this.props.isPlay?"":" hidden"),onClick:function(){return e.props.repeat(e.state.repeatBtn)},children:"Repeat"})]})}}]),a}(n.a.Component)),N=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).updateChecked=function(){!1===s.state.isChecked?s.setState({isChecked:!0}):s.setState({isChecked:!1})},s.state={isChecked:!1},s.updateViewState=s.updateViewState.bind(Object(x.a)(s)),s}return Object(u.a)(a,[{key:"updateViewState",value:function(e){e.target.classList.contains("menu-input")&&!1===this.state.isChecked?this.setState({isChecked:!0}):this.setState({isChecked:!1})}},{key:"componentDidMount",value:function(){window.addEventListener("mousedown",this.updateViewState)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousedown",this.updateViewState)}},{key:"render",value:function(){var e=this;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("header",{className:"header-container",children:[Object(g.jsxs)("div",{className:"menuToggle",children:[Object(g.jsx)("input",{type:"checkbox",className:"menu-input",onChange:function(){return e.updateChecked},checked:this.state.isChecked}),Object(g.jsx)("span",{}),Object(g.jsx)("span",{}),Object(g.jsx)("span",{}),Object(g.jsxs)("ul",{className:"menu"+(this.props.isPlay?" play-mode":""),children:[Object(g.jsx)(m.a,{to:"/",className:"menu-item",children:"Main Page"}),Object(g.jsx)(m.a,{to:"/cards/0",className:"menu-item",children:"Action (set A)"}),Object(g.jsx)(m.a,{to:"/cards/1",className:"menu-item",children:"Action (set B)"}),Object(g.jsx)(m.a,{to:"/cards/2",className:"menu-item",children:"Animal (set A)"}),Object(g.jsx)(m.a,{to:"/cards/3",className:"menu-item",children:"Animal (set B)"}),Object(g.jsx)(m.a,{to:"/cards/4",className:"menu-item",children:"Clothets"}),Object(g.jsx)(m.a,{to:"/cards/5",className:"menu-item",children:"Emotion"}),Object(g.jsx)(m.a,{to:"/cards/6",className:"menu-item",children:"Electronics"}),Object(g.jsx)(m.a,{to:"/cards/7",className:"menu-item",children:"Garage"})]})]}),Object(g.jsx)(P,{isPlay:this.props.isPlay,changeMode:this.props.changeMode})]}),Object(g.jsx)(k,{isPlay:this.props.isPlay,startPlay:this.props.startPlay,startPressed:this.props.startPressed,repeat:this.props.repeat,repeatBtn:this.props.repeatBtn})]})}}]),a}(n.a.Component),w=(a(41),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("footer",{className:"footer-container",children:[Object(g.jsx)("a",{href:"https://github.com/barmenski/",className:"git-link",children:" "}),Object(g.jsx)("span",{className:"year-span",children:"2021"}),Object(g.jsx)("a",{href:"https://rs.school/js/",className:"course-link",children:" "})]})}}]),a}(r.Component)),S=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N,{isChecked:!0,changeMode:this.props.changeMode,isPlay:this.props.isPlay,startPlay:this.props.startPlay,startPressed:this.props.startPressed,repeat:this.props.repeat,repeatBtn:this.props.repeatBtn}),Object(g.jsx)("div",{className:"category-container container",children:v.map((function(t){return Object(g.jsxs)(m.a,{to:"/cards/".concat(t.url),className:"category-card"+(e.props.isPlay?" play-mode":""),children:[Object(g.jsx)("img",{src:"./"+t.image,alt:t.text}),t.text]},t.image)}))}),Object(g.jsx)(w,{})]})}}]),a}(r.Component);function C(){return(C=Object(y.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/cards");case 2:return t=e.sent,e.next=5,t.json();case 5:f=e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){C.apply(this,arguments)}();a(42);var A=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).categoryNumber=Number(s.props.match.params.cat_url),s.cardArray=[],s.arrLength=f[s.categoryNumber].length,s.cardArrayMake=function(){for(var e=0;e<s.arrLength;e++)s.cardArray.push(f[s.categoryNumber][e].audioSrc);s.cardArray.sort((function(){return Math.random()-.5}))},s.randomRead=function(){s.props.startPressed&&new Audio("../"+s.cardArray[0]).play()},s.repeat=function(){s.props.repeatBtn&&new Audio("../"+s.cardArray[0]).play()},s.mouseLeave=function(e){var t=document.querySelector('[data-translation="'.concat(e.translation,'"]')),a=document.querySelector('[data-word="'.concat(e.word,'"]'));if(t&&a){if(t.classList.contains("hidden"))return;t.classList.add("hidden"),a.classList.remove("hidden")}},s.onClickHandlerTrain=function(e){new Audio("../"+e.audioSrc).play();var t=document.querySelector('[data-spk-img="'.concat(e.word,'"]'));if(t){t.classList.remove("hidden"),setTimeout((function(){t.classList.add("hidden")}),1e3);var a=document.querySelector('[data-translation="'.concat(e.translation,'"]'));a&&a.classList.remove("hidden");var s=document.querySelector('[data-word="'.concat(e.word,'"]'));if(s){if(s.classList.contains("hidden"))return;s.classList.add("hidden")}}},s.onClickHandlerPlay=function(e){var t=document.querySelector(".play-btn-container"),a=document.querySelector('[data-url="../'.concat(e.audioSrc,'"]'));if(s.cardArray[0]===e.audioSrc){if(!(null===a||void 0===a?void 0:a.classList.contains("non-active"))){new Audio("../audio/correct.mp3").play(),a&&a.classList.add("non-active");var r=document.createElement("div");if(r.className="star-win",t&&t.prepend(r),s.cardArray.splice(0,1),0===s.cardArray.length)if(0===s.state.errorAmount){new Audio("../audio/success.mp3").play();var n=document.querySelector(".cards-container");n&&n.classList.add("hidden");var c=document.querySelector(".success__img");c&&c.classList.remove("hidden")}else{new Audio("../audio/failure.mp3").play();var i=document.querySelector(".cards-container");i&&i.classList.add("hidden");var o=document.querySelector(".failure__img");o&&o.classList.remove("hidden")}setTimeout(s.randomRead,500)}}else if(!(null===a||void 0===a?void 0:a.classList.contains("non-active"))){var d=document.createElement("div");d.className="star-lose",t&&t.prepend(d),new Audio("../audio/error.mp3").play(),s.setState({errorAmount:s.state.errorAmount+1})}},s.state={isPlay:!0,startPressed:!1,repeatBtn:!1,errorAmount:0},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.cardArrayMake(),this.randomRead(),this.repeat()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N,{isChecked:!0,changeMode:this.props.changeMode,isPlay:this.props.isPlay,startPlay:this.props.startPlay,startPressed:this.props.startPressed,repeat:this.props.repeat,repeatBtn:this.props.repeatBtn}),Object(g.jsx)("div",{className:"cards-container container",children:f[this.categoryNumber].map((function(t){return Object(g.jsxs)("div",{className:"card",onClick:e.props.isPlay?function(){return e.onClickHandlerPlay(t)}:function(){return e.onClickHandlerTrain(t)},onMouseLeave:function(){return e.mouseLeave(t)},children:[Object(g.jsx)("img",{src:"../"+t.image,className:"card__img",alt:t.word,"data-url":"../"+t.audioSrc}),Object(g.jsx)("span",{className:"card-word"+(e.props.isPlay?" hidden":""),"data-word":t.word,children:t.word}),Object(g.jsx)("span",{className:"card-translation hidden","data-translation":t.translation,children:t.translation}),Object(g.jsx)("span",{className:"card-empty"+(e.props.isPlay?" play-mode":" hidden"),children:" "}),Object(g.jsx)("img",{src:"../img/speaker-icon.svg",alt:"speaker",className:"speaker-icon hidden","data-spk-img":t.word})]},t.word)}))}),Object(g.jsxs)("div",{className:"result-container",children:[Object(g.jsx)("img",{src:"../img/success.jpg",className:"success__img hidden",alt:"Success"}),Object(g.jsx)("img",{src:"../img/failure.jpg",className:"failure__img hidden",alt:"Failure"})]}),Object(g.jsx)(w,{})]})}}]),a}(n.a.Component),L=(a(43),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={isPlay:!1,changeMode:!1,startPlay:!1,startPressed:!1,repeatBtn:!1},e.changeMode=function(){e.setState({startPressed:!1}),!1===e.state.isPlay?e.setState({isPlay:!0}):e.setState({isPlay:!1})},e.startPlay=function(){e.setState({startPressed:!0})},e.repeat=function(){e.setState({repeatBtn:!0})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{path:"/category",component:function(){return Object(g.jsx)(S,{isPlay:e.state.isPlay,changeMode:e.changeMode,startPlay:e.startPlay,startPressed:e.state.startPressed,repeat:e.repeat,repeatBtn:e.state.repeatBtn})}}),Object(g.jsx)(o.a,{exact:!0,from:"/",to:"/category"}),Object(g.jsx)(o.b,{path:"/cards/:cat_url",component:function(t){return Object(g.jsx)(A,Object(d.a)(Object(d.a)({},t),{},{isPlay:e.state.isPlay,changeMode:e.changeMode,startPlay:e.startPlay,startPressed:e.state.startPressed,repeat:e.repeat,repeatBtn:e.state.repeatBtn}))}})]})})}}]),a}(n.a.Component)),M=Object(o.g)(L),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,45)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),r(e),n(e),c(e)}))},_=a(9),q=Object(_.a)();i.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(o.c,{history:q,children:Object(g.jsx)(M,{})})}),document.getElementById("root")),B()}},[[44,1,2]]]);
//# sourceMappingURL=main.21d814fd.chunk.js.map