(()=>{"use strict";var e={309:(e,t,i)=>{i.r(t)},76:(e,t,i)=>{i.r(t)},80:(e,t,i)=>{i.r(t)},799:(e,t,i)=>{i.r(t)},866:(e,t,i)=>{i.r(t)},889:(e,t,i)=>{i.r(t)},528:(e,t,i)=>{i.r(t)},3:(e,t,i)=>{i.r(t)},148:(e,t,i)=>{i.r(t)},580:(e,t,i)=>{i.r(t)},387:(e,t,i)=>{i.r(t)},752:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,r)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const s=i(366),a=i(101),o=i(505),r=i(229),l=i(977),c=i(295),d=i(831);t.App=class{constructor(e){this.rootElement=e,this.gamePage=()=>{this.rootElement.innerHTML="",this.rootElement.appendChild(this.header.element),window.app.start(),this.rootElement.appendChild(this.game.element)},this.settingsPage=()=>{this.rootElement.innerHTML="",this.rootElement.appendChild(this.header.element),this.rootElement.appendChild(this.settings.element)},this.aboutGamePage=()=>{this.rootElement.innerHTML="",this.rootElement.appendChild(this.header.element),this.rootElement.appendChild(this.aboutGame.element)},this.bestScorePage=()=>{this.rootElement.innerHTML="",this.rootElement.appendChild(this.header.element),this.rootElement.appendChild(this.score.element)},this.formRegPage=()=>{this.rootElement.innerHTML="",this.rootElement.appendChild(this.header.element),this.rootElement.appendChild(this.cover.element),this.rootElement.appendChild(this.formReg.element)},this.formRegClosePage=()=>{this.rootElement.innerHTML="",this.rootElement.appendChild(this.header.element)},this.header=new l.Header,this.game=new r.Game,this.aboutGame=new s.AboutGame,this.cover=new a.Cover,this.formReg=new o.FormReg,this.settings=new d.Settings,this.score=new c.Score,this.rootElement=e}start(){return n(this,void 0,void 0,(function*(){const e=yield fetch("./images.json"),t=(yield e.json())[0],i=t.images.map((e=>`${t.category}/${e}`));this.game.newGame(i)}))}}},366:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutGame=void 0;const n=i(583);i(309);class s extends n.BaseComponent{constructor(){super("div",["about-game"]),this.element.innerHTML='\n      <h1 class="heading">How to play?</h1>\n      <div class="main-section">\n        <div class="step one">\n          <div class="description-container">\n            <p class="description__number">1</p>\n            <p class="description__text">Register new player in game</p>\n          </div>\n          <div class="step-image"></div>\n        </div>\n        <div class="step two">\n          <div class="description-container">\n            <p class="description__number">2</p>\n            <p class="description__text">Configure your game settings</p>\n          </div>\n          <div class="step-image"></div>\n        </div>\n        <div class="step three">\n          <div class="description-container">\n            <p class="description__number">3</p>\n            <p class="description__text">Start you new game! Remember card positions and match it before times up.</p>\n          </div>\n          <div class="step-image"></div>\n        </div>\n      </div>'}}t.AboutGame=s},583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},343:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0,i(76);const n=i(583);class s extends n.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.element.innerHTML=`\n    <div class="card">\n      <div class="card__front" style="background-image: url('./images/${e}')"></div>\n      <div class="card__back"></div>\n    </div>\n    `}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=s},610:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0,i(80);const n=i(583);class s extends n.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[]}clear(){this.cards=[],this.element.innerHTML=""}addCards(e){this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element))),setTimeout((()=>{this.cards.forEach((e=>e.flipToBack()))}),1e4)}}t.CardsField=s},101:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Cover=void 0;const n=i(583);i(799);class s extends n.BaseComponent{constructor(){super("div",["cover"]),this.element.innerHTML=""}}t.Cover=s},368:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FormRegButton=void 0;const n=i(583);i(866);class s extends n.BaseComponent{constructor(e,t){super("form",["formReg-wrapper"]),this.className=e,this.text=t,this.element.setAttribute("action","#form-reg-close"),this.element.innerHTML=`\n      <button class="formReg-${e}" type="submit" disabled>${t}</button>\n    `}}t.FormRegButton=s},505:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FormReg=void 0;const n=i(583),s=i(368),a=i(977);i(889);class o extends n.BaseComponent{constructor(){super("div",["formReg"]),this.addPlayerBtn=new s.FormRegButton("add__btn","Add Player"),this.cancelBtn=new s.FormRegButton("cancel__btn","Cancel"),this.header=new a.Header,this.element.innerHTML='\n    <h1 class="heading-form">Registration new Player</h1>\n    <form action="#" class="action">\n      <div class="input-wrapper">\n        <div class="input-container">\n          <input type="text" class="first-name" placeholder="First Name" required>\n          <input type="text" class="last-name" placeholder="Last Name" required>\n          <input type="email" class="email" placeholder="E-mail" required>\n        </div>\n        <div class="player-avatar"></div>\n      </div>\n      <div  class="button-container">\n        <form action="#form-reg-close">\n          <button class="formReg-add__btn invalid" type="submit" disabled>Add User</button>\n          <button class="formReg-cancel__btn" type="submit">Cancel</button>\n        </form>*/\n      </div>\n    </form>\n    '}}t.FormReg=o},229:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,r)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const s=i(680),a=i(583),o=i(343),r=i(610),l=i(981);class c extends a.BaseComponent{constructor(){super("div",["wrapper-cards"]),this.isAnimation=!1,this.cardsField=new r.CardsField,this.timer=new l.Timer,this.timer.Clear(),this.timer.Start(),this.element.appendChild(this.timer.element),this.element.appendChild(this.cardsField.element)}newGame(e){this.timer.Clear(),this.timer.Start(),this.cardsField.clear();const t=e.concat(e).map((e=>new o.Card(e))).sort((()=>Math.random()-.5));t.forEach((e=>{e.element.addEventListener("click",(()=>this.cardHandler(e)))})),this.cardsField.addCards(t)}cardHandler(e){return n(this,void 0,void 0,(function*(){if(!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToFront(),!this.activeCard)return this.activeCard=e,void(this.isAnimation=!1);this.activeCard.image!==e.image?(e.element.classList.add("wrong"),this.activeCard.element.classList.add("wrong"),yield s.delay(1500),yield Promise.all([this.activeCard.flipToBack(),e.flipToBack()]),e.element.classList.remove("wrong"),this.activeCard.element.classList.remove("wrong")):(e.element.classList.add("right"),this.activeCard.element.classList.add("right")),this.activeCard=void 0,this.isAnimation=!1}}))}}t.Game=c},977:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const n=i(583);i(528);class s extends n.BaseComponent{constructor(){super("header",["header"]),this.element.innerHTML='\n    <a href="#about-game" class="logo-link"></a>\n    <ul class="nav-list">\n      <li class="nav-item"><a href="#about-game" class="nav-link__about">About Game</a></li>\n      <li class="nav-item"><a href="#best-score" class="nav-link__score">Best Score</a></li>\n      <li class="nav-item"><a href="#settings" class="nav-link__settings">Game Settings</a></li>\n    </ul>\n    <div class="wrapper__btn">\n      <form action="#form-reg" class="reg-form">\n        <button type="submit" class="reg__btn">REGISTER NEW PLAYER</button>\n      </form>\n      <div class="avatar__img hidden"></div>\n    </div>\n  '}}t.Header=s},295:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Score=void 0;const n=i(583);i(3);class s extends n.BaseComponent{constructor(){super("div",["main"]),this.element.innerHTML='\n    <h1 class="heading">Best players</h1>\n    <ul class="score-list">\n      <li class="score-item">\n        <div class="item__image"></div>\n        <div class="item-container">\n          <div class="item__name">Nicci Troiani</div>\n          <div class="item__email">nicci@gmail.com</div>\n        </div>\n        <div class="item__score">Score: <span>456</span></div>\n      </li>\n      <li class="score-item">\n        <div class="item__image"></div>\n        <div class="item-container">\n          <div class="item__name">Nicci Troiani</div>\n          <div class="item__email">nicci@gmail.com</div>\n        </div>\n        <div class="item__score">Score: <span>456</span></div>\n      </li>\n      <li class="score-item">\n        <div class="item__image"></div>\n        <div class="item-container">\n          <div class="item__name">Nicci Troiani</div>\n          <div class="item__email">nicci@gmail.com</div>\n        </div>\n        <div class="item__score">Score: <span>456</span></div>\n      </li>\n    </ul>\n    '}}t.Score=s},831:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;const n=i(583);i(148);class s extends n.BaseComponent{constructor(){super("div",["settings"]),this.element.innerHTML='\n      <div class="game-cards">\n        <div class="select-container">\n          <h1 class="heading-settings">Game cards</h1>\n          <select class="game-cards-select">\n            <option disabled selected>select game cards type</option>\n            <option class="select-item" value="argentina">Argentina</option>\n            <option class="select-item" valeu="real-assets">Real assets</option>\n          </select>\n        </div>\n        <div class="select-container">\n          <h1 class="heading-settings">Difficulty</h1>\n          <select class="game-cards-select">\n            <option disabled selected>select game type type</option>\n            <option class="select-item" value="4x4">4x4</option>\n            <option class="select-item" value="6x6">6x6</option>\n            <option class="select-item" value="8x8">8x8</option>\n          </select>\n        </div>\n      </div>\n    '}}t.Settings=s},981:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0,i(580),t.Timer=class{constructor(){this.sec=0,this.min=0,this.tick=()=>{this.sec++,this.sec>=60&&(this.min++,this.sec-=60),this.sec<10?this.min<10?this.element.innerHTML=`0${this.min}:0${this.sec}`:this.element.innerHTML=`${this.min}:0${this.sec}`:this.min<10?this.element.innerHTML=`0${this.min}:${this.sec}`:this.element.innerHTML=`${this.min}:${this.sec}`},this.Start=()=>{this.timerId=setInterval(this.tick,1e3)},this.Stop=()=>{this.timerId&&clearInterval(this.timerId)},this.Clear=()=>{this.sec=0,this.min=0,this.timerId&&clearInterval(this.timerId),this.element.innerHTML=`0${this.min}:0${this.sec}`},this.element=document.createElement("div"),this.element.classList.add("timer"),this.timerId=null}}},680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,i),a.exports}i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{i(387);const e=i(752),t=document.querySelector("body");if(!t)throw Error("<body> element not found");window.app=new e.App(t),window.app.aboutGamePage();const n=[{name:"settings",component:window.app.settingsPage},{name:"game",component:window.app.gamePage},{name:"best-score",component:window.app.bestScorePage},{name:"form-reg",component:window.app.formRegPage},{name:"form-reg-close",component:window.app.formRegClosePage}],s={name:"default",component:window.app.aboutGamePage};window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);(n.find((t=>t.name===e))||s).component()}))})()})();